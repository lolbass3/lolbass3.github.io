!function(t){t.fn.flowtype=function(e){var n=t.extend({maximum:9999,minimum:1,maxFont:9999,minFont:1,fontRatio:35},e),a=function(e){var a=t(e),i=a.width(),o=i>n.maximum?n.maximum:i<n.minimum?n.minimum:i,r=o/n.fontRatio,s=r>n.maxFont?n.maxFont:r<n.minFont?n.minFont:r;a.css("font-size",s+"px")};return this.each(function(){var e=this;t(window).resize(function(){a(e)}),a(this)})}}(jQuery),function(){var t=this,e=t._,n={},a=Array.prototype,i=Object.prototype,o=Function.prototype,r=a.push,s=a.slice,l=a.concat,u=i.toString,c=i.hasOwnProperty,p=a.forEach,h=a.map,d=a.reduce,f=a.reduceRight,m=a.filter,v=a.every,g=a.some,y=a.indexOf,_=a.lastIndexOf,w=Array.isArray,b=Object.keys,D=o.bind,T=function(t){return t instanceof T?t:this instanceof T?void(this._wrapped=t):new T(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=T),exports._=T):t._=T,T.VERSION="1.4.4";var k=T.each=T.forEach=function(t,e,a){if(null!=t)if(p&&t.forEach===p)t.forEach(e,a);else if(t.length===+t.length){for(var i=0,o=t.length;o>i;i++)if(e.call(a,t[i],i,t)===n)return}else for(var r in t)if(T.has(t,r)&&e.call(a,t[r],r,t)===n)return};T.map=T.collect=function(t,e,n){var a=[];return null==t?a:h&&t.map===h?t.map(e,n):(k(t,function(t,i,o){a[a.length]=e.call(n,t,i,o)}),a)};var x="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(t,e,n,a){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduce===d)return a&&(e=T.bind(e,a)),i?t.reduce(e,n):t.reduce(e);if(k(t,function(t,o,r){i?n=e.call(a,n,t,o,r):(n=t,i=!0)}),!i)throw new TypeError(x);return n},T.reduceRight=T.foldr=function(t,e,n,a){var i=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return a&&(e=T.bind(e,a)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var r=T.keys(t);o=r.length}if(k(t,function(s,l,u){l=r?r[--o]:--o,i?n=e.call(a,n,t[l],l,u):(n=t[l],i=!0)}),!i)throw new TypeError(x);return n},T.find=T.detect=function(t,e,n){var a;return M(t,function(t,i,o){return e.call(n,t,i,o)?(a=t,!0):void 0}),a},T.filter=T.select=function(t,e,n){var a=[];return null==t?a:m&&t.filter===m?t.filter(e,n):(k(t,function(t,i,o){e.call(n,t,i,o)&&(a[a.length]=t)}),a)},T.reject=function(t,e,n){return T.filter(t,function(t,a,i){return!e.call(n,t,a,i)},n)},T.every=T.all=function(t,e,a){e||(e=T.identity);var i=!0;return null==t?i:v&&t.every===v?t.every(e,a):(k(t,function(t,o,r){return(i=i&&e.call(a,t,o,r))?void 0:n}),!!i)};var M=T.some=T.any=function(t,e,a){e||(e=T.identity);var i=!1;return null==t?i:g&&t.some===g?t.some(e,a):(k(t,function(t,o,r){return i||(i=e.call(a,t,o,r))?n:void 0}),!!i)};T.contains=T.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):M(t,function(t){return t===e})},T.invoke=function(t,e){var n=s.call(arguments,2),a=T.isFunction(e);return T.map(t,function(t){return(a?e:t[e]).apply(t,n)})},T.pluck=function(t,e){return T.map(t,function(t){return t[e]})},T.where=function(t,e,n){return T.isEmpty(e)?n?null:[]:T[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},T.findWhere=function(t,e){return T.where(t,e,!0)},T.max=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!e&&T.isEmpty(t))return-1/0;var a={computed:-1/0,value:-1/0};return k(t,function(t,i,o){var r=e?e.call(n,t,i,o):t;r>=a.computed&&(a={value:t,computed:r})}),a.value},T.min=function(t,e,n){if(!e&&T.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!e&&T.isEmpty(t))return 1/0;var a={computed:1/0,value:1/0};return k(t,function(t,i,o){var r=e?e.call(n,t,i,o):t;a.computed>r&&(a={value:t,computed:r})}),a.value},T.shuffle=function(t){var e,n=0,a=[];return k(t,function(t){e=T.random(n++),a[n-1]=a[e],a[e]=t}),a};var F=function(t){return T.isFunction(t)?t:function(e){return e[t]}};T.sortBy=function(t,e,n){var a=F(e);return T.pluck(T.map(t,function(t,e,i){return{value:t,index:e,criteria:a.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,a=e.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(a>n||void 0===a)return-1}return t.index<e.index?-1:1}),"value")};var I=function(t,e,n,a){var i={},o=F(e||T.identity);return k(t,function(e,r){var s=o.call(n,e,r,t);a(i,s,e)}),i};T.groupBy=function(t,e,n){return I(t,e,n,function(t,e,n){(T.has(t,e)?t[e]:t[e]=[]).push(n)})},T.countBy=function(t,e,n){return I(t,e,n,function(t,e){T.has(t,e)||(t[e]=0),t[e]++})},T.sortedIndex=function(t,e,n,a){n=null==n?T.identity:F(n);for(var i=n.call(a,e),o=0,r=t.length;r>o;){var s=o+r>>>1;i>n.call(a,t[s])?o=s+1:r=s}return o},T.toArray=function(t){return t?T.isArray(t)?s.call(t):t.length===+t.length?T.map(t,T.identity):T.values(t):[]},T.size=function(t){return null==t?0:t.length===+t.length?t.length:T.keys(t).length},T.first=T.head=T.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:s.call(t,0,e)},T.initial=function(t,e,n){return s.call(t,0,t.length-(null==e||n?1:e))},T.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:s.call(t,Math.max(t.length-e,0))},T.rest=T.tail=T.drop=function(t,e,n){return s.call(t,null==e||n?1:e)},T.compact=function(t){return T.filter(t,T.identity)};var j=function(t,e,n){return k(t,function(t){T.isArray(t)?e?r.apply(n,t):j(t,e,n):n.push(t)}),n};T.flatten=function(t,e){return j(t,e,[])},T.without=function(t){return T.difference(t,s.call(arguments,1))},T.uniq=T.unique=function(t,e,n,a){T.isFunction(e)&&(a=n,n=e,e=!1);var i=n?T.map(t,n,a):t,o=[],r=[];return k(i,function(n,a){(e?a&&r[r.length-1]===n:T.contains(r,n))||(r.push(n),o.push(t[a]))}),o},T.union=function(){return T.uniq(l.apply(a,arguments))},T.intersection=function(t){var e=s.call(arguments,1);return T.filter(T.uniq(t),function(t){return T.every(e,function(e){return T.indexOf(e,t)>=0})})},T.difference=function(t){var e=l.apply(a,s.call(arguments,1));return T.filter(t,function(t){return!T.contains(e,t)})},T.zip=function(){for(var t=s.call(arguments),e=T.max(T.pluck(t,"length")),n=Array(e),a=0;e>a;a++)n[a]=T.pluck(t,""+a);return n},T.object=function(t,e){if(null==t)return{};for(var n={},a=0,i=t.length;i>a;a++)e?n[t[a]]=e[a]:n[t[a][0]]=t[a][1];return n},T.indexOf=function(t,e,n){if(null==t)return-1;var a=0,i=t.length;if(n){if("number"!=typeof n)return a=T.sortedIndex(t,e),t[a]===e?a:-1;a=0>n?Math.max(0,i+n):n}if(y&&t.indexOf===y)return t.indexOf(e,n);for(;i>a;a++)if(t[a]===e)return a;return-1},T.lastIndexOf=function(t,e,n){if(null==t)return-1;var a=null!=n;if(_&&t.lastIndexOf===_)return a?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=a?n:t.length;i--;)if(t[i]===e)return i;return-1},T.range=function(t,e,n){1>=arguments.length&&(e=t||0,t=0),n=arguments[2]||1;for(var a=Math.max(Math.ceil((e-t)/n),0),i=0,o=Array(a);a>i;)o[i++]=t,t+=n;return o},T.bind=function(t,e){if(t.bind===D&&D)return D.apply(t,s.call(arguments,1));var n=s.call(arguments,2);return function(){return t.apply(e,n.concat(s.call(arguments)))}},T.partial=function(t){var e=s.call(arguments,1);return function(){return t.apply(this,e.concat(s.call(arguments)))}},T.bindAll=function(t){var e=s.call(arguments,1);return 0===e.length&&(e=T.functions(t)),k(e,function(e){t[e]=T.bind(t[e],t)}),t},T.memoize=function(t,e){var n={};return e||(e=T.identity),function(){var a=e.apply(this,arguments);return T.has(n,a)?n[a]:n[a]=t.apply(this,arguments)}},T.delay=function(t,e){var n=s.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},T.defer=function(t){return T.delay.apply(T,[t,1].concat(s.call(arguments,1)))},T.throttle=function(t,e){var n,a,i,o,r=0,s=function(){r=new Date,i=null,o=t.apply(n,a)};return function(){var l=new Date,u=e-(l-r);return n=this,a=arguments,0>=u?(clearTimeout(i),i=null,r=l,o=t.apply(n,a)):i||(i=setTimeout(s,u)),o}},T.debounce=function(t,e,n){var a,i;return function(){var o=this,r=arguments,s=function(){a=null,n||(i=t.apply(o,r))},l=n&&!a;return clearTimeout(a),a=setTimeout(s,e),l&&(i=t.apply(o,r)),i}},T.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},T.wrap=function(t,e){return function(){var n=[t];return r.apply(n,arguments),e.apply(this,n)}},T.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},T.after=function(t,e){return 0>=t?e():function(){return 1>--t?e.apply(this,arguments):void 0}},T.keys=b||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)T.has(t,n)&&(e[e.length]=n);return e},T.values=function(t){var e=[];for(var n in t)T.has(t,n)&&e.push(t[n]);return e},T.pairs=function(t){var e=[];for(var n in t)T.has(t,n)&&e.push([n,t[n]]);return e},T.invert=function(t){var e={};for(var n in t)T.has(t,n)&&(e[t[n]]=n);return e},T.functions=T.methods=function(t){var e=[];for(var n in t)T.isFunction(t[n])&&e.push(n);return e.sort()},T.extend=function(t){return k(s.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},T.pick=function(t){var e={},n=l.apply(a,s.call(arguments,1));return k(n,function(n){n in t&&(e[n]=t[n])}),e},T.omit=function(t){var e={},n=l.apply(a,s.call(arguments,1));for(var i in t)T.contains(n,i)||(e[i]=t[i]);return e},T.defaults=function(t){return k(s.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},T.clone=function(t){return T.isObject(t)?T.isArray(t)?t.slice():T.extend({},t):t},T.tap=function(t,e){return e(t),t};var E=function(t,e,n,a){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof T&&(t=t._wrapped),e instanceof T&&(e=e._wrapped);var i=u.call(t);if(i!=u.call(e))return!1;switch(i){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return a[o]==e;n.push(t),a.push(e);var r=0,s=!0;if("[object Array]"==i){if(r=t.length,s=r==e.length)for(;r--&&(s=E(t[r],e[r],n,a)););}else{var l=t.constructor,c=e.constructor;if(l!==c&&!(T.isFunction(l)&&l instanceof l&&T.isFunction(c)&&c instanceof c))return!1;for(var p in t)if(T.has(t,p)&&(r++,!(s=T.has(e,p)&&E(t[p],e[p],n,a))))break;if(s){for(p in e)if(T.has(e,p)&&!r--)break;s=!r}}return n.pop(),a.pop(),s};T.isEqual=function(t,e){return E(t,e,[],[])},T.isEmpty=function(t){if(null==t)return!0;if(T.isArray(t)||T.isString(t))return 0===t.length;for(var e in t)if(T.has(t,e))return!1;return!0},T.isElement=function(t){return!(!t||1!==t.nodeType)},T.isArray=w||function(t){return"[object Array]"==u.call(t)},T.isObject=function(t){return t===Object(t)},k(["Arguments","Function","String","Number","Date","RegExp"],function(t){T["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),T.isArguments(arguments)||(T.isArguments=function(t){return!(!t||!T.has(t,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(t){return"function"==typeof t}),T.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},T.isNaN=function(t){return T.isNumber(t)&&t!=+t},T.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==u.call(t)},T.isNull=function(t){return null===t},T.isUndefined=function(t){return void 0===t},T.has=function(t,e){return c.call(t,e)},T.noConflict=function(){return t._=e,this},T.identity=function(t){return t},T.times=function(t,e,n){for(var a=Array(t),i=0;t>i;i++)a[i]=e.call(n,i);return a},T.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};A.unescape=T.invert(A.escape);var S={escape:RegExp("["+T.keys(A.escape).join("")+"]","g"),unescape:RegExp("("+T.keys(A.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(t){T[t]=function(e){return null==e?"":(""+e).replace(S[t],function(e){return A[t][e]})}}),T.result=function(t,e){if(null==t)return null;var n=t[e];return T.isFunction(n)?n.call(t):n},T.mixin=function(t){k(T.functions(t),function(e){var n=T[e]=t[e];T.prototype[e]=function(){var t=[this._wrapped];return r.apply(t,arguments),R.call(this,n.apply(T,t))}})};var O=0;T.uniqueId=function(t){var e=++O+"";return t?t+e:e},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(t,e,n){var a;n=T.defaults({},n,T.templateSettings);var i=RegExp([(n.escape||C).source,(n.interpolate||C).source,(n.evaluate||C).source].join("|")+"|$","g"),o=0,r="__p+='";t.replace(i,function(e,n,a,i,s){return r+=t.slice(o,s).replace(N,function(t){return"\\"+Y[t]}),n&&(r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),a&&(r+="'+\n((__t=("+a+"))==null?'':__t)+\n'"),i&&(r+="';\n"+i+"\n__p+='"),o=s+e.length,e}),r+="';\n",n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{a=Function(n.variable||"obj","_",r)}catch(s){throw s.source=r,s}if(e)return a(e,T);var l=function(t){return a.call(this,t,T)};return l.source="function("+(n.variable||"obj")+"){\n"+r+"}",l},T.chain=function(t){return T(t).chain()};var R=function(t){return this._chain?T(t).chain():t};T.mixin(T),k(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];T.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],R.call(this,n)}}),k(["concat","join","slice"],function(t){var e=a[t];T.prototype[t]=function(){return R.call(this,e.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),Date.prototype.getWeek=function(){var t=new Date(this.getFullYear(),0,1);return Math.ceil(((this.getTime()-t.getTime())/864e5+t.getDay()+1)/7)},Date.prototype.getMonthFormatted=function(){var t=this.getMonth()+1;return 10>t?"0"+t:t},Date.prototype.getDateFormatted=function(){var t=this.getDate();return 10>t?"0"+t:t},String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})}),String.prototype.formatNum||(String.prototype.formatNum=function(t){for(var e=""+this;e.length<t;)e="0"+e;return e}),function(t){function e(t,e){var n,a,i;i=t,n=t.indexOf("?")<0?"?":"&";for(a in e)i+=n+a+"="+encodeURIComponent(e[a]),n="&";return i}function n(e,n){var a=null!=e.options[n]?e.options[n]:null,i=null!=e.locale[n]?e.locale[n]:null;if("holidays"==n&&e.options.merge_holidays){var o={};return t.extend(!0,o,i?i:u.holidays),a&&t.extend(!0,o,a),o}return null!=a?a:null!=i?i:u[n]}function a(e,o){var r=[],l=n(e,"holidays");for(var u in l)r.push(u+":"+l[u]);if(r.push(o),r=r.join("|"),r in a.cache)return a.cache[r];var c=[];return t.each(l,function(e,n){var a=null,r=null,l=!1;if(t.each(e.split(">"),function(t,n){var u,c=null;if(u=/^(\d\d)-(\d\d)$/.exec(n))c=new Date(o,parseInt(u[2],10)-1,parseInt(u[1],10));else if(u=/^(\d\d)-(\d\d)-(\d\d\d\d)$/.exec(n))parseInt(u[3],10)==o&&(c=new Date(o,parseInt(u[2],10)-1,parseInt(u[1],10)));else if(u=/^easter(([+\-])(\d+))?$/.exec(n))c=s(o,u[1]?parseInt(u[1],10):0);else if(u=/^(\d\d)([+\-])([1-5])\*([0-6])$/.exec(n)){var p=parseInt(u[1],10)-1,h=u[2],d=parseInt(u[3]),f=parseInt(u[4]);switch(h){case"+":for(var m=new Date(o,p,-6);m.getDay()!=f;)m=new Date(m.getFullYear(),m.getMonth(),m.getDate()+1);c=new Date(m.getFullYear(),m.getMonth(),m.getDate()+7*d);break;case"-":for(var m=new Date(o,p+1,7);m.getDay()!=f;)m=new Date(m.getFullYear(),m.getMonth(),m.getDate()-1);c=new Date(m.getFullYear(),m.getMonth(),m.getDate()-7*d)}}if(!c)return i("Unknown holiday: "+e),l=!0,!1;switch(t){case 0:a=c;break;case 1:if(c.getTime()<=a.getTime())return i("Unknown holiday: "+e),l=!0,!1;r=c;break;default:return i("Unknown holiday: "+e),l=!0,!1}}),!l){var u=[];if(r)for(var p=new Date(a.getTime());p.getTime()<=r.getTime();p.setDate(p.getDate()+1))u.push(new Date(p.getTime()));else u.push(a);c.push({name:n,days:u})}}),a.cache[r]=c,a.cache[r]}function i(e){"object"==t.type(window.console)&&"function"==t.type(window.console.warn)&&window.console.warn("[Bootstrap-Calendar] "+e)}function o(e,n){return this.options=t.extend(!0,{position:{start:new Date,end:new Date}},l,e),this.setLanguage(this.options.language),this.context=n,n.css("width",this.options.width).addClass("cal-context"),this.view(),this}function r(e,n,a,i){e.stopPropagation();var n=t(n),o=n.closest(".cal-cell"),r=o.closest(".cal-before-eventlist"),s=o.data("cal-row");n.fadeOut("fast"),a.slideUp("fast",function(){var e=t(".events-list",o);a.html(i.options.templates["events-list"]({cal:i,events:i.getEventsBetween(parseInt(e.data("cal-start")),parseInt(e.data("cal-end")))})),r.after(a),i.activecell=t("[data-cal-date]",o).text(),t("#cal-slide-tick").addClass("tick"+s).show(),a.slideDown("fast",function(){t("body").one("click",function(){a.slideUp("fast"),i.activecell=0})})}),t("a.event-item").mouseenter(function(){t('a[data-event-id="'+t(this).data("event-id")+'"]').closest(".cal-cell1").addClass("day-highlight dh-"+t(this).data("event-class"))}),t("a.event-item").mouseleave(function(){t("div.cal-cell1").removeClass("day-highlight dh-"+t(this).data("event-class"))}),setTimeout(function(){i._update_modal()},400)}function s(t,e){var n=t%19,a=Math.floor(t/100),i=t%100,o=Math.floor(a/4),r=a%4,s=Math.floor((a+8)/25),l=Math.floor((a-s+1)/3),u=(19*n+a-o-l+15)%30,c=Math.floor(i/4),p=i%4,h=(32+2*r+2*c-u-p)%7,d=Math.floor((n+11*u+22*h)/451),f=u+h+7*d+114,m=Math.floor(f/31)-1,v=f%31+1;return new Date(t,m,v+(e?e:0),0,0,0)}var l={width:"100%",view:"month",day:"now",time_start:"06:00",time_end:"22:00",time_split:"30",events_source:"",tmpl_path:"tmpls/",tmpl_cache:!0,classes:{months:{inmonth:"cal-day-inmonth",outmonth:"cal-day-outmonth",saturday:"cal-day-weekend",sunday:"cal-day-weekend",holidays:"cal-day-holiday",today:"cal-day-today"},week:{workday:"cal-day-workday",saturday:"cal-day-weekend",sunday:"cal-day-weekend",holidays:"cal-day-holiday",today:"cal-day-today"}},modal:null,modal_type:"iframe",modal_title:null,views:{year:{slide_events:1,enable:1},month:{slide_events:1,enable:1},week:{enable:1},day:{enable:1}},merge_holidays:!1,onAfterEventsLoad:function(t){},onBeforeEventsLoad:function(t){t()},onAfterViewLoad:function(t){},onAfterModalShown:function(t){},onAfterModalHidden:function(t){},events:[],templates:{year:"",month:"",week:"",day:""},stop_cycling:!1},u={first_day:2,holidays:{"01-01":"New Year's Day","01+3*1":"Birthday of Dr. Martin Luther King, Jr.","02+3*1":"Washington's Birthday","05-1*1":"Memorial Day","04-07":"Independence Day","09+1*1":"Labor Day","10+2*1":"Columbus Day","11-11":"Veterans Day","11+4*4":"Thanksgiving Day","25-12":"Christmas"}},c={error_noview:"Calendar: View {0} not found",error_dateformat:'Calendar: Wrong date format {0}. Should be either "now" or "yyyy-mm-dd"',error_loadurl:"Calendar: Event URL is not set",error_where:'Calendar: Wrong navigation direction {0}. Can be only "next" or "prev" or "today"',error_timedevide:"Calendar: Time split parameter should divide 60 without decimals. Something like 10, 15, 30",no_events_in_day:"No events in this day.",title_year:"{0}",title_month:"{0} {1}",title_week:"week {0} of {1}",title_day:"{0} {1} {2}, {3}",week:"Week {0}",all_day:"All day",time:"Time",events:"Events",before_time:"Ends before timeline",after_time:"Starts after timeline",m0:"January",m1:"February",m2:"March",m3:"April",m4:"May",m5:"June",m6:"July",m7:"August",m8:"September",m9:"October",m10:"November",m11:"December",ms0:"Jan",ms1:"Feb",ms2:"Mar",ms3:"Apr",ms4:"May",ms5:"Jun",ms6:"Jul",ms7:"Aug",ms8:"Sep",ms9:"Oct",ms10:"Nov",ms11:"Dec",d0:"Sun",d1:"Mon",d2:"Tue",d3:"Wed",d4:"Thu",d5:"Fri",d6:"Sat"},p="";try{"object"==t.type(window.jstz)&&"function"==t.type(jstz.determine)&&(p=jstz.determine().name(),"string"!==t.type(p)&&(p=""))}catch(h){}a.cache={},o.prototype.setOptions=function(e){t.extend(this.options,e),"language"in e&&this.setLanguage(e.language),"modal"in e&&this._update_modal()},o.prototype.setLanguage=function(e){window.calendar_languages&&e in window.calendar_languages?(this.locale=t.extend(!0,{},c,calendar_languages[e]),this.options.language=e):(this.locale=c,delete this.options.language)},o.prototype._render=function(){this.context.html(""),this._loadTemplate(this.options.view),this.stop_cycling=!1;var t={};t.cal=this,t.day=1,t.months=1==n(this,"first_day")?[this.locale.d1,this.locale.d2,this.locale.d3,this.locale.d4,this.locale.d5,this.locale.d6,this.locale.d0]:[this.locale.d0,this.locale.d1,this.locale.d2,this.locale.d3,this.locale.d4,this.locale.d5,this.locale.d6];var e=parseInt(this.options.position.start.getTime()),a=parseInt(this.options.position.end.getTime());switch(t.events=this.getEventsBetween(e,a),this.options.view){case"month":break;case"week":this._calculate_hour_minutes(t);break;case"day":this._calculate_hour_minutes(t)}t.start=new Date(this.options.position.start.getTime()),t.lang=this.locale,this.context.append(this.options.templates[this.options.view](t)),this._update()},o.prototype._calculate_hour_minutes=function(e){var n=this,a=parseInt(this.options.time_split),o=60/a,r=Math.min(o,1);(o>=1&&o%1!=0||1>o&&1440/a%1!=0)&&t.error(this.locale.error_timedevide);var s=this.options.time_start.split(":"),l=this.options.time_end.split(":");e.hours=(parseInt(l[0])-parseInt(s[0]))*r;var u=e.hours*o-parseInt(s[1])/a,c=6e4*a,p=new Date(this.options.position.start.getTime());p.setHours(s[0]),p.setMinutes(s[1]);var h=new Date(this.options.position.start.getTime());h.setHours(l[0]),h.setMinutes(l[1]),e.all_day=[],e.by_hour=[],e.after_time=[],e.before_time=[],t.each(e.events,function(t,a){var o=new Date(parseInt(a.start)),r=new Date(parseInt(a.end));if(a.start_hour=o.getHours().toString().formatNum(2)+":"+o.getMinutes().toString().formatNum(2),a.end_hour=r.getHours().toString().formatNum(2)+":"+r.getMinutes().toString().formatNum(2),a.start<p.getTime()&&(i(1),a.start_hour=o.getDate()+" "+n.locale["ms"+o.getMonth()]+" "+a.start_hour),a.end>h.getTime()&&(i(1),a.end_hour=r.getDate()+" "+n.locale["ms"+r.getMonth()]+" "+a.end_hour),a.start<p.getTime()&&a.end>h.getTime())return void e.all_day.push(a);if(a.end<p.getTime())return void e.before_time.push(a);if(a.start>h.getTime())return void e.after_time.push(a);var s=p.getTime()-a.start;a.top=s>=0?0:Math.abs(s)/c;var l=Math.abs(u-a.top),d=(a.end-a.start)/c;s>=0&&(d=(a.end-p.getTime())/c),a.lines=d,d>l&&(a.lines=l),e.by_hour.push(a)})},o.prototype._hour_min=function(t){var e=this.options.time_start.split(":"),n=parseInt(this.options.time_split),a=60/n;return 0==t?a-parseInt(e[1])/n:a},o.prototype._hour=function(t,e){var n=this.options.time_start.split(":"),a=parseInt(this.options.time_split),i=""+(parseInt(n[0])+t*Math.max(a/60,1)),o=""+(a*e+(0==t)?parseInt(n[1]):0);return i.formatNum(2)+":"+o.formatNum(2)},o.prototype._week=function(e){this._loadTemplate("week-days");var a={},i=parseInt(this.options.position.start.getTime()),o=parseInt(this.options.position.end.getTime()),r=[],s=this,l=n(this,"first_day");return t.each(this.getEventsBetween(i,o),function(t,e){e.start_day=new Date(parseInt(e.start)).getDay(),1==l&&(e.start_day=(e.start_day+6)%7),e.days=e.end-e.start<=864e5?1:(e.end-e.start)/864e5,e.start<i&&(e.days=e.days-(i-e.start)/864e5,e.start_day=0),e.days=Math.ceil(e.days),e.start_day+e.days>7&&(e.days=7-e.start_day),r.push(e)}),a.events=r,a.cal=this,s.options.templates["week-days"](a)},o.prototype._month=function(t){this._loadTemplate("year-month");var e={cal:this},n=t+1;e.data_day=this.options.position.start.getFullYear()+"-"+(10>n?"0"+n:n)+"-01",e.month_name=this.locale["m"+t];var a=new Date(this.options.position.start.getFullYear(),t,1,0,0,0);return e.start=parseInt(a.getTime()),e.end=parseInt(new Date(this.options.position.start.getFullYear(),t+1,1,0,0,0).getTime()),e.events=this.getEventsBetween(e.start,e.end),this.options.templates["year-month"](e)},o.prototype._day=function(e,a){this._loadTemplate("month-day");var i={tooltip:"",cal:this},o=this.options.classes.months.outmonth,r=this.options.position.start.getDay();2==n(this,"first_day")?r++:r=0==r?7:r,a=a-r+1;var s=new Date(this.options.position.start.getFullYear(),this.options.position.start.getMonth(),a,0,0,0);a>0&&(o=this.options.classes.months.inmonth);var l=new Date(this.options.position.end.getTime()-1).getDate();if(a+1>l&&(this.stop_cycling=!0),a>l&&(a-=l,o=this.options.classes.months.outmonth),o=t.trim(o+" "+this._getDayClass("months",s)),0>=a){var u=new Date(this.options.position.start.getFullYear(),this.options.position.start.getMonth(),0).getDate();a=u-Math.abs(a),o+=" cal-month-first-row"}var c=this._getHoliday(s);return c!==!1&&(i.tooltip=c),i.data_day=s.getFullYear()+"-"+s.getMonthFormatted()+"-"+(10>a?"0"+a:a),i.cls=o,i.day=a,i.start=parseInt(s.getTime()),i.end=parseInt(i.start+864e5),i.events=this.getEventsBetween(i.start,i.end),this.options.templates["month-day"](i)},o.prototype._getHoliday=function(e){var n=!1;return t.each(a(this,e.getFullYear()),function(){var a=!1;return t.each(this.days,function(){return this.toDateString()==e.toDateString()?(a=!0,!1):void 0}),a?(n=this.name,!1):void 0}),n},o.prototype._getHolidayName=function(t){var e=this._getHoliday(t);return e===!1?"":e},o.prototype._getDayClass=function(t,e){var n=this,a=function(e,a){var i;i=n.options.classes&&t in n.options.classes&&e in n.options.classes[t]?n.options.classes[t][e]:"","string"==typeof i&&i.length&&a.push(i)},i=[];e.toDateString()==(new Date).toDateString()&&a("today",i);var o=this._getHoliday(e);switch(o!==!1&&a("holidays",i),e.getDay()){case 0:a("sunday",i);break;case 6:a("saturday",i)}return a(e.toDateString(),i),i.join(" ")},o.prototype.view=function(t){if(t){if(!this.options.views[t].enable)return;this.options.view=t}this._init_position(),this._loadEvents(),this._render(),this.options.onAfterViewLoad.call(this,this.options.view)},o.prototype.navigate=function(e,n){var a=t.extend({},this.options.position);if("next"==e)switch(this.options.view){case"year":a.start.setFullYear(this.options.position.start.getFullYear()+1);break;case"month":a.start.setMonth(this.options.position.start.getMonth()+1);break;case"week":a.start.setDate(this.options.position.start.getDate()+7);break;case"day":a.start.setDate(this.options.position.start.getDate()+1)}else if("prev"==e)switch(this.options.view){case"year":a.start.setFullYear(this.options.position.start.getFullYear()-1);break;case"month":a.start.setMonth(this.options.position.start.getMonth()-1);break;case"week":a.start.setDate(this.options.position.start.getDate()-7);break;case"day":a.start.setDate(this.options.position.start.getDate()-1)}else"today"==e?a.start.setTime((new Date).getTime()):t.error(this.locale.error_where.format(e));this.options.day=a.start.getFullYear()+"-"+a.start.getMonthFormatted()+"-"+a.start.getDateFormatted(),this.view(),_.isFunction(n)&&n()},o.prototype._init_position=function(){var e,a,i;if("now"==this.options.day){var o=new Date;e=o.getFullYear(),a=o.getMonth(),i=o.getDate()}else if(this.options.day.match(/^\d{4}-\d{2}-\d{2}$/g)){var r=this.options.day.split("-");e=parseInt(r[0],10),a=parseInt(r[1],10)-1,i=parseInt(r[2],10)}else t.error(this.locale.error_dateformat.format(this.options.day));switch(this.options.view){case"year":this.options.position.start.setTime(new Date(e,0,1).getTime()),this.options.position.end.setTime(new Date(e+1,0,1).getTime());break;case"month":this.options.position.start.setTime(new Date(e,a,1).getTime()),this.options.position.end.setTime(new Date(e,a+1,1).getTime());break;case"day":this.options.position.start.setTime(new Date(e,a,i).getTime()),this.options.position.end.setTime(new Date(e,a,i+1).getTime());break;case"week":var s,l=new Date(e,a,i);s=1==n(this,"first_day")?l.getDate()-(l.getDay()+6)%7:l.getDate()-l.getDay(),this.options.position.start.setTime(new Date(e,a,s).getTime()),this.options.position.end.setTime(new Date(e,a,s+7).getTime());break;default:t.error(this.locale.error_noview.format(this.options.view))}return this},o.prototype.getTitle=function(){var t=this.options.position.start;switch(this.options.view){case"year":return this.locale.title_year.format(t.getFullYear());case"month":return this.locale.title_month.format(this.locale["m"+t.getMonth()],t.getFullYear());case"week":return this.locale.title_week.format(t.getWeek(),t.getFullYear());case"day":return this.locale.title_day.format(this.locale["d"+t.getDay()],t.getDate(),this.locale["m"+t.getMonth()],t.getFullYear())}},o.prototype.isToday=function(){var t=(new Date).getTime();return t>this.options.position.start&&t<this.options.position.end},o.prototype.getStartDate=function(){return this.options.position.start},o.prototype.getEndDate=function(){return this.options.position.end},o.prototype._loadEvents=function(){var n=this,a=null;"events_source"in this.options&&""!==this.options.events_source?a=this.options.events_source:"events_url"in this.options&&(a=this.options.events_url,i("The events_url option is DEPRECATED and it will be REMOVED in near future. Please use events_source instead."));var o;switch(t.type(a)){case"function":o=function(){return a(n.options.position.start,n.options.position.end,p)};break;case"array":o=function(){return[].concat(a)};break;case"string":a.length&&(o=function(){var i=[],o={from:n.options.position.start.getTime(),to:n.options.position.end.getTime()};return p.length&&(o.browser_timezone=p),t.ajax({url:e(a,o),dataType:"json",type:"GET",async:!1}).done(function(e){e.success||t.error(e.error),e.result&&(i=e.result)}),i})}o||t.error(this.locale.error_loadurl),this.options.onBeforeEventsLoad.call(this,function(){n.options.events=o(),n.options.events.sort(function(t,e){var n;return n=t.start-e.start,0==n&&(n=t.end-e.end),n}),n.options.onAfterEventsLoad.call(n,n.options.events)})},o.prototype._templatePath=function(t){return"function"==typeof this.options.tmpl_path?this.options.tmpl_path(t):this.options.tmpl_path+t+".html"},o.prototype._loadTemplate=function(e){if(!this.options.templates[e]){var n=this;t.ajax({url:n._templatePath(e),dataType:"html",type:"GET",async:!1,cache:this.options.tmpl_cache}).done(function(t){n.options.templates[e]=_.template(t)})}},o.prototype._update=function(){var e=this;t('*[data-toggle="tooltip"]').tooltip({container:"body"}),t("*[data-cal-date]").click(function(){var n=t(this).data("cal-view");e.options.day=t(this).data("cal-date"),e.view(n)}),t(".cal-cell").dblclick(function(){var n=t("[data-cal-date]",this).data("cal-view");e.options.day=t("[data-cal-date]",this).data("cal-date"),e.view(n)}),this["_update_"+this.options.view](),this._update_modal()},o.prototype._update_modal=function(){var e=this;if(t("a[data-event-id]",this.context).unbind("click"),e.options.modal){var n=t(e.options.modal);if(n.length){var a=null;"iframe"==e.options.modal_type&&(a=t(document.createElement("iframe")).attr({width:"100%",frameborder:"0"})),t("a[data-event-id]",this.context).on("click",function(i){i.preventDefault(),i.stopPropagation();var o=t(this).attr("href"),r=t(this).data("event-id"),i=_.find(e.options.events,function(t){return t.id==r});"iframe"==e.options.modal_type&&(a.attr("src",o),t(".modal-body",n).html(a)),(!n.data("handled.bootstrap-calendar")||n.data("handled.bootstrap-calendar")&&n.data("handled.event-id")!=i.id)&&n.on("show.bs.modal",function(){var a=t(this).find(".modal-body");switch(e.options.modal_type){case"iframe":var r=a.height()-parseInt(a.css("padding-top"),10)-parseInt(a.css("padding-bottom"),10);t(this).find("iframe").height(Math.max(r,50));break;case"ajax":t.ajax({url:o,dataType:"html",async:!1,success:function(t){a.html(t)}});break;case"template":e._loadTemplate("modal"),a.html(e.options.templates.modal({event:i,calendar:e}))}_.isFunction(e.options.modal_title)&&n.find("h3").html(e.options.modal_title(i))}).on("shown.bs.modal",function(){
e.options.onAfterModalShown.call(e,e.options.events)}).on("hidden.bs.modal",function(){e.options.onAfterModalHidden.call(e,e.options.events)}).data("handled.bootstrap-calendar",!0).data("handled.event-id",i.id),n.modal("show")})}}},o.prototype._update_day=function(){t("#cal-day-panel").height(t("#cal-day-panel-hour").height())},o.prototype._update_week=function(){},o.prototype._update_year=function(){this._update_month_year()},o.prototype._update_month=function(){this._update_month_year();t("a.event").mouseenter(function(){t('a[data-event-id="'+t(this).data("event-id")+'"]').closest(".cal-cell1").addClass("day-highlight dh-"+t(this).data("event-class"))}),t("a.event").mouseleave(function(){t("div.cal-cell1").removeClass("day-highlight dh-"+t(this).data("event-class"))})},o.prototype._update_month_year=function(){if(this.options.views[this.options.view].slide_events){var e=this,n=t(document.createElement("div")).attr("id","cal-day-tick").html('<i class="icon-chevron-down glyphicon glyphicon-chevron-down"></i>');t(".cal-month-day, .cal-year-box .span3").on("mouseenter",function(){0!=t(".events-list",this).length&&t(this).children("[data-cal-date]").text()!=e.activecell&&n.show().appendTo(this)}).on("mouseleave",function(){n.hide()}).on("click",function(i){0!=t(".events-list",this).length&&t(this).children("[data-cal-date]").text()!=e.activecell&&r(i,n,a,e)});var a=t(document.createElement("div")).attr("id","cal-slide-box");a.hide().click(function(t){t.stopPropagation()}),this._loadTemplate("events-list"),n.click(function(n){r(n,t(this),a,e)})}},o.prototype.getEventsBetween=function(e,n){var a=[];return t.each(this.options.events,function(){if(null==this.start)return!0;var t=this.end||this.start;parseInt(this.start)<n&&parseInt(t)>=e&&a.push(this)}),a},t.fn.calendar=function(t){return new o(t,this)}}(jQuery),function(t){"use strict";var e=t("#calendar").calendar({tmpl_path:"bower_components/bootstrap-calendar/tmpls/",events_source:"/bower_components/bootstrap-calendar/events.json.php",modal:"#events-modal",onAfterEventsLoad:function(e){if(e){var n=t("#eventlist");n.html(""),t.each(e,function(e,a){t(document.createElement("li")).html('<a href="'+a.url+'">'+a.title+"</a>").appendTo(n)})}},onAfterViewLoad:function(e){t(".page-header h3").text(this.getTitle()),t(".btn-group button").removeClass("active"),t('button[data-calendar-view="'+e+'"]').addClass("active")},classes:{months:{general:"label"}}});t(".btn-group button[data-calendar-nav]").each(function(){var n=t(this);n.click(function(){e.navigate(n.data("calendar-nav"))})}),t(".btn-group button[data-calendar-view]").each(function(){var n=t(this);n.click(function(){e.view(n.data("calendar-view"))})}),t("#first_day").change(function(){var n=t(this).val();n=n.length?parseInt(n):null,e.setOptions({first_day:n}),e.view()}),t("#language").change(function(){e.setLanguage(t(this).val()),e.view()}),t("#events-in-modal").change(function(){var n=t(this).is(":checked")?t(this).val():null;e.setOptions({modal:n})}),t("#events-modal .modal-header, #events-modal .modal-footer").click(function(t){})}(jQuery);